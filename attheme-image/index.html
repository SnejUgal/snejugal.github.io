<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducing @atthemeimagebot</title>
    <meta name="theme-color" content="#ff9800">
    <link rel="shortcut icon" href="./favicon.png">
  </head>
  <body>
    <main class="content">
      <article class="article">
        <h1 class="title">
          Introducing
          <a class="link" href="tg://resolve?domain=atthemeimagebot">
            @attheme&shy;image&shy;bot
          </a>
        </h1>

        <p class="paragraph">
          Using <a class="link" href="tg://resolve?domain=atthemeimagebot">this
          new bot</a>, you can easily extract wallpapers from .attheme files
          and set your wallpaper of an .attheme with no compression.
        </p>

        <a class="button" href="tg://resolve?domain=atthemeimagebot">
          Try the bot
        </a>
      </article>

      <img class="image" src="./bot-usage.png" alt="Usage of the bot">
    </main>

    <script type="module">
      if (`IntersectionObserver` in window) {
        const image = document.querySelector(`img`);

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach(({ isIntersecting, target }) => {
              if (isIntersecting) {
                target.src = target.dataset.src;
                delete target.dataset.src;

                observer.unobserve(target);
              }
            });
          },
          {
            threshold: 0,
          }
        );

        image.dataset.src = image.src;
        image.src = null;

        observer.observe(image);
      }
    </script>

    <link rel="stylesheet" href="./style.css">
  </body>
</html>